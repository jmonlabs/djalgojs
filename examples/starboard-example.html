<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>djalgojs Starboard Example</title>
  <!-- Load Plotly.js first -->
  <script src="https://cdn.plot.ly/plotly-2.24.1.min.js"></script>
  <!-- Load djalgojs -->
  <script type="module">
    // Import both dj and viz from djalgojs
    import { dj, viz } from 'https://cdn.jsdelivr.net/gh/jmonlabs/djalgojs@main/dist/djalgojs.min.js';
    
    // Make them available globally for the demo
    window.dj = dj;
    window.viz = viz;
    
    // Log to verify they're loaded correctly
    console.log('dj loaded:', dj);
    console.log('viz loaded:', viz);
    
    // Run when the page loads
    window.onload = function() {
      // Create a simple example
      const scale = new dj.Scale('C', 'major');
      const notes = scale.generate(4, 8);
      
      // Display the scale
      document.getElementById('scale-info').textContent = 
        `Scale: ${scale.tonic} ${scale.mode} - Notes: ${notes.join(', ')}`;
      
      // Create a visualization
      const x = Array.from({length: 20}, (_, i) => i);
      const y = x.map(x => Math.sin(x * 0.5));
      
      // Use viz to create a plot
      viz.line(x, y, 'plot-container', 'Sine Wave Example');
    };
  </script>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
    }
    #plot-container {
      width: 100%;
      height: 400px;
    }
    pre {
      background-color: #f5f5f5;
      padding: 10px;
      border-radius: 5px;
      overflow-x: auto;
    }
  </style>
</head>
<body>
  <h1>djalgojs Starboard Example</h1>
  
  <h2>Scale Example</h2>
  <div id="scale-info"></div>
  
  <h2>Visualization Example</h2>
  <div id="plot-container"></div>
  
  <h2>How to Import in Starboard</h2>
  <pre>
// First, import Plotly.js
import Plotly from "https://cdn.plot.ly/plotly-2.24.1.min.js";
window.Plotly = Plotly;  // Make it available globally

// Then import djalgojs
import { dj, viz } from "https://cdn.jsdelivr.net/gh/jmonlabs/djalgojs@main/dist/djalgojs.min.js";

// Now you can use both dj and viz
const scale = new dj.Scale('C', 'major');
const notes = scale.generate(4, 8);
console.log(notes);

// Create a visualization
const x = Array.from({length: 20}, (_, i) => i);
const y = x.map(x => Math.sin(x * 0.5));
viz.line(x, y, element, 'Sine Wave');
  </pre>
</body>
</html>